<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Authorized Login</title>
    <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet" />
    <style>
        .custom-background {
            background: linear-gradient(to left, #6356c7, #6b00d7, #3e00b3, #190087, #150073);
        }
        .button-bg {
            background: #190087;
        }
        .button-bg:hover {
            background-color: #150073;
        }
        .button-active {
            background-color: #3e00b3;
        }
        .language-selector {
            display: none;
            position: absolute;
            top: 60px;
            right: 20px;
            background: white;
            border: 1px solid #ccc;
            border-radius: 5px;
            padding: 10px;
        }
        .language-selector select {
            width: 100%;
        }
    </style>
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script>
        function changeButtonColor(button) {
            button.classList.toggle("button-active");
        }

        function loadTeachers() {
            $.get("/auth/show_teachers", function (data) {
                $("#content").html(data);
            });
        }

        function toggleLanguageSelector() {
            $("#language-selector").toggle();
        }

        function changeLanguage(language) {
            const translations = {
                en: {
                    welcome: 'Welcome',
                    description: 'Authorized',
                    addRemoveStudent: 'Add/Remove Student',
                    addRemoveTeacher: 'Add/Remove Teacher',
                    classList: 'Student/Teacher Class List',
                    addRemoveClass: 'Add/Remove Class',
                    attendances: 'Attendances',
                    bulkDataTransfer: 'Bulk Data Transfer'
                },
                tr: {
                    welcome: 'ClassCheck',
                    description: 'Yetkili',
                    addRemoveStudent: 'Öğrenci Ekle/Çıkar',
                    addRemoveTeacher: 'Öğretmen Ekle/Çıkar',
                    classList: 'Öğrenci/Öğretmen Sınıf Listesi',
                    addRemoveClass: 'Sınıf Ekle/Çıkar',
                    attendances: 'Yoklamalar',
                    bulkDataTransfer: 'Toplu Veri Transferi'
                }
            };

            $("[data-key]").each(function() {
                const key = $(this).data("key");
                $(this).text(translations[language][key]);
            });
        }

        $(document).ready(function() {
            $("#gear-button").click(function() {
                toggleLanguageSelector();
            });

            $("#language-select").change(function() {
                const selectedLanguage = $(this).val();
                changeLanguage(selectedLanguage);
            });
        });
    </script>
</head>
<body class="bg-gray-100 flex flex-col h-screen">
    <div class="flex flex-row justify-between items-center custom-background p-6">
        <div class="">
            <div class="text-white text-2xl font-bold" data-key="welcome">ClassCheck</div>
            <div class="text-white" data-key="description">Authorized</div>
        </div>
        <div>
            <button id="gear-button" class="mr-5">
                <img src="{{ url_for('static', filename='images/gear.png') }}" />
            </button>
            <button>
                <img src="{{ url_for('static', filename='images/logout.png') }}" />
            </button>
        </div>
    </div>
    <div id="language-selector" class="language-selector">
        <label for="language-select">Choose a language:</label>
        <select id="language-select">
            <option value="en">English</option>
            <option value="tr">Türkçe</option>
        </select>
    </div>
    <div class="flex flex-row">
        <div class="flex flex-col justify-center h-full bg-white md:w-1/4 w-1/3 shadow-lg rounded-lg px-6 my-6 mx-6 md:mb-0 gap-6">
            <button class="button-bg text-white font-bold py-3 px-6 rounded-lg" data-key="addRemoveStudent">
                Add/Remove Student
            </button> 
            <button class="button-bg hover:bg-blue-600 text-white font-bold py-3 px-6 rounded-lg" data-key="addRemoveTeacher">
                Add/Remove Teacher
            </button>
            <button class="button-bg hover:bg-blue-600 text-white font-bold py-3 px-6 rounded-lg" onclick="loadTeachers()" data-key="classList">
                Student/Teacher Class List
            </button>
            <button class="button-bg hover:bg-blue-600 text-white font-bold py-3 px-6 rounded-lg" data-key="addRemoveClass">
                Add/Remove Class
            </button>
            <button class="button-bg hover:bg-blue-600 text-white font-bold py-3 px-6 rounded-lg" data-key="attendances">
                Attendances
            </button>
            <button class="button-bg hover:bg-blue-600 text-white font-bold py-3 px-6 rounded-lg" data-key="bulkDataTransfer">
                Bulk Data Transfer
            </button>
        </div>
        <div class="flex justify-center items-center h-full w-full bg-white shadow-lg rounded-lg p-6 my-6 mr-6 md:mb-0">
            <div id="content"></div>
        </div>
    </div>
</body>
</html>
